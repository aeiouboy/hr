# HR Operations (การดำเนินงานฝ่ายบุคคล)

เอกสารนี้อธิบาย module ที่ใช้ในการบริหารงานบุคคล การอนุมัติ และการจัดการโครงสร้างองค์กร

---

## การอนุมัติและ Workflow (`workflows`)

**หน้าที่หลัก:** เป็นศูนย์กลางในการส่งคำขอและติดตามสถานะการอนุมัติทุกประเภทในระบบ ผู้จัดการสามารถอนุมัติ ปฏิเสธ หรือส่งกลับแก้ไขคำขอของทีมได้จากหน้านี้

**ใครใช้ได้บ้าง:** พนักงานทุกคน (ส่งคำขอ), Manager / HR Admin / HR Manager (อนุมัติ)

**สิ่งที่ทำได้:**
- สร้างคำขอใหม่ โดยเลือกประเภทคำขอ กำหนดวันที่มีผล และแนบเอกสาร
- อนุมัติคำขอที่รออยู่ (เฉพาะผู้ที่มีสิทธิ์)
- ปฏิเสธคำขอ พร้อมระบุเหตุผล
- ส่งกลับให้ผู้ขอแก้ไข พร้อมระบุเหตุผล
- ดูรายละเอียดคำขอแต่ละรายการ รวมถึงเอกสารแนบ และ approval flow
- ดาวน์โหลดไฟล์เอกสารที่แนบมากับคำขอ

**ข้อมูลที่แสดง:**
- การ์ดสรุปจำนวนคำขอแยกตามสถานะ: รอการอนุมัติ, ส่งกลับแก้ไข, อนุมัติแล้ว, โอนให้ผู้อื่น
- รายการคำขอพร้อมชื่อผู้ขอ ประเภท วันที่ส่ง วันที่มีผล และสถานะ
- เปรียบเทียบค่าเดิมและค่าใหม่ในแต่ละคำขอ (เช่น เปลี่ยนตำแหน่ง หรือแก้ไขข้อมูลส่วนตัว)
- ขั้นตอน approval flow พร้อมสถานะของแต่ละผู้อนุมัติ (อนุมัติแล้ว / รอดำเนินการ / รอคิว)

**หมายเหตุ:**
- ระบบใช้ approval flow แบบลำดับชั้น: ขั้นที่ 1 ผู้จัดการ (Manager) ขั้นที่ 2 เจ้าหน้าที่ HR (HR Admin) ซึ่งอาจมี HR Manager เป็นขั้นสุดท้ายสำหรับ workflow ที่มีความละเอียดอ่อน เช่น การเปลี่ยนเงินเดือน หรือการออกจากงาน
- แท็บ "รอการอนุมัติ" และ "อนุมัติแล้ว" จะแสดงเฉพาะผู้ที่มีสิทธิ์ Manager ขึ้นไปเท่านั้น
- พนักงานทั่วไปจะเห็นเฉพาะแท็บ "ส่งกลับแก้ไข" เพื่อตรวจสอบและแก้ไขคำขอของตนเอง

---

## การจัดการตำแหน่ง (`position-management`)

**หน้าที่หลัก:** แสดงรายการตำแหน่งงานทั้งหมดในองค์กร พร้อมรายละเอียดโครงสร้างสายบังคับบัญชา Job Grade และผู้ดำรงตำแหน่งปัจจุบัน

**ใครใช้ได้บ้าง:** Manager (ดูข้อมูล), HR Admin / HR Manager (ดูและแก้ไข)

**สิ่งที่ทำได้:**
- ค้นหาตำแหน่งงานด้วย keyword รหัสตำแหน่ง หรือชื่อตำแหน่ง
- กรองตำแหน่งตามบริษัท แผนก Job Grade และสถานะ (เปิดรับ / ว่าง / เต็ม)
- ดูรายละเอียดตำแหน่ง ได้แก่ สายบังคับบัญชา ตำแหน่งที่รายงานตรงต่อ และตำแหน่ง Matrix
- ดูรายชื่อผู้ดำรงตำแหน่งปัจจุบัน พร้อมวันที่เริ่มดำรงตำแหน่ง
- ดูและดาวน์โหลด Job Description (PDF)
- พิมพ์ Position Card
- ดูประวัติการเปลี่ยนแปลงตำแหน่ง (ใครสร้าง ใครแก้ไข มีผลเมื่อใด)
- แก้ไขข้อมูลตำแหน่ง (เฉพาะ HR Admin)

**ข้อมูลที่แสดง:**
- ตาราง: รหัสตำแหน่ง, ชื่อตำแหน่ง (ไทย/อังกฤษ), แผนก, Job Grade, Cost Center, สถานะ, ผู้ดำรงตำแหน่ง
- หน้ารายละเอียด: ข้อมูลพื้นฐาน, โครงสร้างการรายงาน (บังคับบัญชาตรงและ Matrix), รายชื่อผู้ดำรงตำแหน่ง, Job Description, ลำดับชั้น Job Layer, ประวัติตำแหน่ง
- สถิติรวม: จำนวนตำแหน่งทั้งหมดที่ค้นพบ

**หมายเหตุ:**
- รองรับการแบ่งหน้า (Pagination) 10 / 25 / 50 รายการต่อหน้า
- สามารถนำทางระหว่างตำแหน่งที่เชื่อมโยงกันในโครงสร้างสายบังคับบัญชาได้โดยตรง

---

## คำขอโอนย้าย (`transfer-request`)

**หน้าที่หลัก:** ให้พนักงานและผู้จัดการยื่นคำขอโอนย้ายตำแหน่ง ติดตามสถานะคำขอ และดูประวัติการโอนย้ายตลอดเส้นทางอาชีพ

**ใครใช้ได้บ้าง:** พนักงาน (ส่งคำขอ), Manager (ส่งคำขอ), HR Admin / HR Manager (อนุมัติ)

**สิ่งที่ทำได้:**
- สร้างคำขอโอนย้ายผ่าน Wizard แบบ 5 ขั้นตอน: เลือกประเภท > ข้อมูลต้นทาง > ข้อมูลปลายทาง > รายละเอียด > ตรวจสอบก่อนส่ง
- เลือกประเภทการโอนย้าย 4 แบบ ได้แก่ ภายในบริษัท (Internal), ระหว่างบริษัทในกลุ่ม (Inter-company), ข้ามกลุ่มธุรกิจ (Cross-BG), และการยืมตัว/ปฏิบัติงานชั่วคราว (Secondment)
- ระบุข้อมูลตำแหน่งปลายทาง แผนก บริษัทปลายทาง หัวหน้างานใหม่ และสถานที่ทำงาน
- ระบุวันที่มีผล เหตุผลการโอนย้าย และการปรับเงินเดือน (เพิ่ม/ลด/คงเดิม) ถ้ามี
- แนบเอกสารประกอบ (รูปภาพ, PDF, Word)
- ดูคำขอที่รออยู่ (Pending) พร้อม progress bar แสดงความคืบหน้าการอนุมัติ
- ดูประวัติการโอนย้ายทั้งหมด แยกตามสถานะ (รออนุมัติ / อนุมัติแล้ว / ปฏิเสธ / เสร็จสิ้น)
- ดูเส้นทางอาชีพ (Career Timeline) แสดงประวัติตำแหน่งงานตั้งแต่เริ่มงาน

**ข้อมูลที่แสดง:**
- แสดงตำแหน่งปัจจุบัน: บริษัท, ตำแหน่ง, แผนก, Business Unit, สถานที่ทำงาน, หัวหน้างาน
- Approval Chain ของแต่ละประเภทการโอนย้าย (3-4 ขั้นตอน ขึ้นอยู่กับประเภท)
- สรุปคำขอแบบ Before/After เปรียบเทียบต้นทาง-ปลายทาง
- Timeline อาชีพแบบ visual พร้อม movement type (เลื่อนตำแหน่ง / โอนย้าย / เริ่มงานใหม่)

**หมายเหตุ:**
- Internal Transfer ใช้ 3 ขั้นตอนอนุมัติ: หัวหน้างานปัจจุบัน > หัวหน้างานใหม่ > HR
- Inter-company และ Cross-BG ใช้ 4 ขั้นตอน: หัวหน้างานปัจจุบัน > หัวหน้างานใหม่ > HR ต้นทาง > HR ปลายทาง
- Secondment ใช้ 3 ขั้นตอนเช่นเดียวกับ Internal Transfer และต้องระบุวันสิ้นสุดด้วย

---

## แผนผังองค์กร (`org-chart`)

**หน้าที่หลัก:** แสดงโครงสร้างองค์กรแบบภาพรวมทั้งหมด พร้อมสายบังคับบัญชา ตำแหน่งว่าง และสถิติรวมขององค์กร

**ใครใช้ได้บ้าง:** พนักงานทุกคน

**สิ่งที่ทำได้:**
- ดูผังองค์กรแบบ Interactive: ลากเพื่อเลื่อน และ scroll เพื่อ zoom เข้า/ออก
- กรองผังตามบริษัท หรือ Cost Center
- คลิกที่ชื่อพนักงานเพื่อเปิดโปรไฟล์
- ส่งออกผังเป็นไฟล์รูปภาพ (PNG)
- พิมพ์แผนผังองค์กร
- ใช้ keyboard shortcut: ลูกศรเลื่อน / +- ซูม / 0 รีเซ็ตมุมมอง

**ข้อมูลที่แสดง:**
- ผังองค์กรแบบ Tree แสดงลำดับชั้นสายบังคับบัญชา
- กรอบ Mini-map ช่วยนำทางในผังขนาดใหญ่
- สถิติสรุปองค์กร 4 ตัวชี้วัด: จำนวนบริษัท, จำนวนพนักงาน, จำนวนแผนก, จำนวนตำแหน่งว่าง

**หมายเหตุ:**
- รองรับองค์กรแบบ Multi-company ภายในกลุ่มธุรกิจเดียวกัน
- ตำแหน่งว่างจะแสดงในผังได้ เพื่อให้เห็น vacancy ในโครงสร้าง

---

## แดชบอร์ดผู้จัดการ (`manager-dashboard`)

**หน้าที่หลัก:** ศูนย์บัญชาการสำหรับผู้จัดการ รวบรวมข้อมูลทีม คำขอที่รออนุมัติ และการแจ้งเตือนสำคัญไว้ในหน้าเดียว

**ใครใช้ได้บ้าง:** Manager, HR Admin, HR Manager (ไม่สามารถเข้าใช้ได้หากเป็นพนักงานทั่วไป)

**สิ่งที่ทำได้:**
- อนุมัติหรือปฏิเสธคำขอทีละรายการ พร้อมดูรายละเอียดก่อนตัดสินใจ
- อนุมัติหรือปฏิเสธหลายรายการพร้อมกัน (Bulk Approve / Bulk Reject)
- ค้นหาและกรองสมาชิกในทีม ตามสถานะ (ทำงาน / ลา / ทดลองงาน)
- คลิกดูโปรไฟล์ของสมาชิกในทีม
- ดูปฏิทินทีมเพื่อวางแผนการลาและการทำงาน

**ข้อมูลที่แสดง:**
- การ์ดสรุปทีม 5 ตัวชี้วัด: จำนวนสมาชิก, มาทำงานวันนี้, ลาวันนี้, รออนุมัติ, ทดลองงาน
- แจ้งเตือนเร่งด่วน (High Priority Alerts) แสดงด้านบนสุด
- รายชื่อสมาชิกทีม พร้อมรูปถ่าย ตำแหน่ง รหัสพนักงาน และสถานะ
- คำขอรออนุมัติ แยกหมวดหมู่ 3 ประเภท: คำขอลา, เบิกค่าใช้จ่าย, คำขอแก้ไขข้อมูล
- ปฏิทินทีม แสดงวันลาของสมาชิก
- Mini Org Chart แสดงโครงสร้างทีมของผู้จัดการ
- การแจ้งเตือนทีม (Team Notifications) เรียงตามความสำคัญ

**หมายเหตุ:**
- คำขอที่มีป้าย "เร่งด่วน" จะแสดงเด่นชัดกว่าคำขอปกติ
- Bulk action ต้องเลือกรายการก่อน จึงจะกดปุ่มอนุมัติ/ปฏิเสธได้
- ฟีเจอร์ "ขอลาแทน" และ "แก้ไขมอบหมาย" อยู่ระหว่างการพัฒนา

---

## การตั้งค่าระบบ (`settings`)

**หน้าที่หลัก:** จัดการการตั้งค่าของระบบ HR ทั้งหมด ตั้งแต่ข้อมูลบริษัท นโยบายการลา ระบบเงินเดือน ไปจนถึงการแจ้งเตือน

**ใครใช้ได้บ้าง:**
- HR Admin / HR Manager: เข้าถึงได้ทุก tab และแก้ไขได้
- Manager: เข้าถึงได้เฉพาะ tab Workflow Settings
- พนักงานทั่วไป: เข้าถึงได้เฉพาะ tab การแจ้งเตือน (Notifications)

**สิ่งที่ทำได้:**

**Tab ทั่วไป (General):**
- ตั้งค่าภาษาเริ่มต้นของระบบ (ไทย / อังกฤษ)
- ตั้งค่ารูปแบบวันที่ (พ.ศ. / ค.ศ.)
- ตั้งค่า Theme (Light / Dark / ตามระบบ)

**Tab บริษัท (Company):**
- แก้ไขชื่อบริษัท เลขประจำตัวผู้เสียภาษี 13 หลัก และเลขทะเบียนประกันสังคม
- อัปโหลดโลโก้บริษัท
- แก้ไขที่อยู่บริษัท

**Tab นโยบายการลา (Leave Policy):**
- ดู แก้ไข เพิ่ม หรือลบประเภทการลา
- กำหนดจำนวนวันลาต่อปี รูปแบบการสะสม (รายปี / รายเดือน / ให้ครั้งเดียว / ตามเหตุการณ์) และจำนวนวันที่นำไปใช้ปีหน้าได้
- ตั้งค่าว่าต้องใช้ใบรับรองแพทย์หลังลาเกินกี่วัน

**Tab เงินเดือน (Payroll):**
- ดูตารางอัตราภาษีเงินได้บุคคลธรรมดาปีปัจจุบัน
- ดูอัตราเงินสมทบประกันสังคม (ลูกจ้างและนายจ้าง) และยอดสูงสุดที่หักต่อเดือน
- แก้ไขการตั้งค่ากองทุนสำรองเลี้ยงชีพ (เปิด/ปิด อัตราสมทบ อัตราต่ำสุด/สูงสุดของลูกจ้าง)
- ดูอัตราค่าล่วงเวลา: วันธรรมดา (1.5x), วันหยุด (3x), OT วันหยุด (3x)

**Tab การตั้งค่า Workflow:**
- ดูลำดับขั้นตอนการอนุมัติและ Role ที่รับผิดชอบในแต่ละขั้น
- ดูกฎการอนุมัติอัตโนมัติ (Auto-Approve) ว่าประเภทลาใดที่ลาไม่เกินกี่วันจะผ่านอัตโนมัติ
- ดูการตั้งค่าการมอบอำนาจ (Delegation) เช่น จำนวนวันสูงสุด และสิทธิ์การมอบต่อ

**Tab การแจ้งเตือน (Notifications):**
- เปิด/ปิดการแจ้งเตือนทางอีเมล และตั้งค่าความถี่ (ทันที / รายวัน / รายสัปดาห์)
- เลือกประเภทเหตุการณ์ที่ต้องการรับแจ้งเตือน
- เปิด/ปิดการแจ้งเตือนในแอป และตั้งค่า Badge
- เปิด/ปิดการแจ้งเตือนเตือนยอดลาคงเหลือ
- ตั้งระยะวันล่วงหน้าสำหรับการแจ้งเตือนเอกสารหมดอายุ และการประเมินผลงาน

**ข้อมูลที่แสดง:**
- ตารางประเภทการลาพร้อม: รหัส ชื่อ จำนวนวัน รูปแบบสะสม วันนำไปปีหน้า ต้องมีใบรับรองหรือไม่ สถานะ
- ตารางอัตราภาษีเงินได้แบบขั้นบันได
- กราฟ Vesting Schedule ของกองทุนสำรองเลี้ยงชีพ แสดงสัดส่วนเงินนายจ้างที่ได้รับตามอายุงาน
- รายการ Approval Level ที่กำหนดลำดับและความบังคับของแต่ละขั้น

**หมายเหตุ:**
- ระบบจะแจ้งเตือนก่อนออกจาก tab หากมีข้อมูลที่ยังไม่ได้บันทึก
- ฟีเจอร์แก้ไข Auto-Approve Rules และ Delegation Settings อยู่ระหว่างการพัฒนา
- ข้อมูลอ้างอิงด้านกฎหมายแรงงานไทย (ลาพักร้อนขั้นต่ำ ลาป่วย ลาคลอด) แสดงเป็นหมายเหตุในหน้า Leave Policy
