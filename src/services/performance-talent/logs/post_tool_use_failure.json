[
  {
    "timestamp": "2026-02-22T17:52:25.911785",
    "session_id": "0f9a2391-7600-4ddf-a16e-da38eac93110",
    "hook_event_name": "PostToolUseFailure",
    "tool_name": "Bash",
    "tool_use_id": "toolu_012xMSSyS72smq2sXBkwTEDB",
    "tool_input": {
      "command": "npx jest --no-cache 2>&1",
      "timeout": 120000,
      "description": "Run all tests for performance-talent service"
    },
    "error": "Exit code 1\nFAIL test/unit/talent.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/talent.service.spec.ts\u001b[0m:\u001b[93m309\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7053: \u001b[0mElement implicitly has an 'any' type because expression of type '0' can't be used to index type 'JsonValue'.\n      Property '0' does not exist on type 'JsonValue'.\n\n    \u001b[7m309\u001b[0m       expect(result.action_items[0].status).toBe('completed');\n    \u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\nPASS test/unit/performance.service.spec.ts\nPASS test/unit/performance.controller.spec.ts\nPASS test/unit/talent.controller.spec.ts\n\nTest Suites: 1 failed, 3 passed, 4 total\nTests:       30 passed, 30 total\nSnapshots:   0 total\nTime:        4.607 s\nRan all test suites.\n\nFAIL test/unit/talent.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/talent.service.spec.ts\u001b[0m:\u001b[93m309\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7053: \u001b[0mElement implicitly has an 'any' type because expression of type '0' can't be used to index type 'JsonValue'.\n      Property '0' does not exist on type 'JsonValue'.\n\n    \u001b[7m309\u001b[0m       expect(result.action_items[0].status).toBe('completed');\n    \u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\nPASS test/unit/performance.service.spec.ts\nPASS test/unit/performance.controller.spec.ts\nPASS test/unit/talent.controller.spec.ts\n\nTest Suites: 1 failed, 3 passed, 4 total\nTests:       30 passed, 30 total\nSnapshots:   0 total\nTime:        4.607 s\nRan all test suites.",
    "cwd": "/Users/tachongrak/Projects/hr/src/services/performance-talent",
    "permission_mode": "bypassPermissions",
    "transcript_path": "/Users/tachongrak/.claude/projects/-Users-tachongrak-Projects-hr/0f9a2391-7600-4ddf-a16e-da38eac93110.jsonl",
    "raw_input": {
      "session_id": "0f9a2391-7600-4ddf-a16e-da38eac93110",
      "transcript_path": "/Users/tachongrak/.claude/projects/-Users-tachongrak-Projects-hr/0f9a2391-7600-4ddf-a16e-da38eac93110.jsonl",
      "cwd": "/Users/tachongrak/Projects/hr/src/services/performance-talent",
      "permission_mode": "bypassPermissions",
      "hook_event_name": "PostToolUseFailure",
      "tool_name": "Bash",
      "tool_input": {
        "command": "npx jest --no-cache 2>&1",
        "timeout": 120000,
        "description": "Run all tests for performance-talent service"
      },
      "tool_use_id": "toolu_012xMSSyS72smq2sXBkwTEDB",
      "error": "Exit code 1\nFAIL test/unit/talent.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/talent.service.spec.ts\u001b[0m:\u001b[93m309\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7053: \u001b[0mElement implicitly has an 'any' type because expression of type '0' can't be used to index type 'JsonValue'.\n      Property '0' does not exist on type 'JsonValue'.\n\n    \u001b[7m309\u001b[0m       expect(result.action_items[0].status).toBe('completed');\n    \u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\nPASS test/unit/performance.service.spec.ts\nPASS test/unit/performance.controller.spec.ts\nPASS test/unit/talent.controller.spec.ts\n\nTest Suites: 1 failed, 3 passed, 4 total\nTests:       30 passed, 30 total\nSnapshots:   0 total\nTime:        4.607 s\nRan all test suites.\n\nFAIL test/unit/talent.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/talent.service.spec.ts\u001b[0m:\u001b[93m309\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7053: \u001b[0mElement implicitly has an 'any' type because expression of type '0' can't be used to index type 'JsonValue'.\n      Property '0' does not exist on type 'JsonValue'.\n\n    \u001b[7m309\u001b[0m       expect(result.action_items[0].status).toBe('completed');\n    \u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\nPASS test/unit/performance.service.spec.ts\nPASS test/unit/performance.controller.spec.ts\nPASS test/unit/talent.controller.spec.ts\n\nTest Suites: 1 failed, 3 passed, 4 total\nTests:       30 passed, 30 total\nSnapshots:   0 total\nTime:        4.607 s\nRan all test suites.",
      "is_interrupt": false,
      "logged_at": "2026-02-22T17:52:25.911785"
    }
  },
  {
    "timestamp": "2026-02-22T17:56:09.999096",
    "session_id": "251bfa9c-8432-48c6-8537-dc57c1481658",
    "hook_event_name": "PostToolUseFailure",
    "tool_name": "Bash",
    "tool_use_id": "toolu_01GtmjHVYWDhW4yuf6B7whv6",
    "tool_input": {
      "command": "npx jest --no-cache 2>&1",
      "timeout": 120000,
      "description": "Run all tests"
    },
    "error": "Exit code 1\nFAIL test/unit/idp.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/idp.service.spec.ts\u001b[0m:\u001b[93m29\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'approved_by' implicitly has an 'any' type.\n\n    \u001b[7m29\u001b[0m   mentor_id: 'MGR001', approved_by: null, approved_at: null,\n    \u001b[7m  \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/idp.service.spec.ts\u001b[0m:\u001b[93m29\u001b[0m:\u001b[93m43\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'approved_at' implicitly has an 'any' type.\n\n    \u001b[7m29\u001b[0m   mentor_id: 'MGR001', approved_by: null, approved_at: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                          ~~~~~~~~~~~~~~~~~\u001b[0m\n\nFAIL test/unit/succession.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/succession.service.spec.ts\u001b[0m:\u001b[93m32\u001b[0m:\u001b[93m51\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'successors' implicitly has an 'any[]' type.\n\n    \u001b[7m32\u001b[0m   created_at: new Date(), updated_at: new Date(), successors: [],\n    \u001b[7m  \u001b[0m \u001b[91m                                                  ~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/succession.service.spec.ts\u001b[0m:\u001b[93m37\u001b[0m:\u001b[93m33\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'development_gaps' implicitly has an 'any' type.\n\n    \u001b[7m37\u001b[0m   readiness: 'ready_1_2_years', development_gaps: null, development_actions: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/succession.service.spec.ts\u001b[0m:\u001b[93m37\u001b[0m:\u001b[93m57\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'development_actions' implicitly has an 'any' type.\n\n    \u001b[7m37\u001b[0m   readiness: 'ready_1_2_years', development_gaps: null, development_actions: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                        ~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\nFAIL test/unit/goal.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/goal.service.spec.ts\u001b[0m:\u001b[93m31\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'completed_at' implicitly has an 'any' type.\n\n    \u001b[7m31\u001b[0m   completed_at: null, period: '2024-H1', created_at: new Date(), updated_at: new Date(),\n    \u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~~~~~\u001b[0m\n\nFAIL test/unit/evaluation.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m33\u001b[0m:\u001b[93m36\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'self_rating' implicitly has an 'any' type.\n\n    \u001b[7m33\u001b[0m   type: 'annual', status: 'draft', self_rating: null, manager_rating: null, final_rating: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                   ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m33\u001b[0m:\u001b[93m55\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'manager_rating' implicitly has an 'any' type.\n\n    \u001b[7m33\u001b[0m   type: 'annual', status: 'draft', self_rating: null, manager_rating: null, final_rating: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                      ~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m33\u001b[0m:\u001b[93m77\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'final_rating' implicitly has an 'any' type.\n\n    \u001b[7m33\u001b[0m   type: 'annual', status: 'draft', self_rating: null, manager_rating: null, final_rating: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                                            ~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'self_comments' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'manager_comments' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m48\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'strengths' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                               ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m65\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'improvements' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                                ~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\n\n... [4080 characters truncated] ...\n\n0m\u001b[90m TS7018: \u001b[0mObject literal's property 'completed_at' implicitly has an 'any' type.\n\n    \u001b[7m31\u001b[0m   completed_at: null, period: '2024-H1', created_at: new Date(), updated_at: new Date(),\n    \u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~~~~~\u001b[0m\n\nFAIL test/unit/evaluation.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m33\u001b[0m:\u001b[93m36\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'self_rating' implicitly has an 'any' type.\n\n    \u001b[7m33\u001b[0m   type: 'annual', status: 'draft', self_rating: null, manager_rating: null, final_rating: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                   ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m33\u001b[0m:\u001b[93m55\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'manager_rating' implicitly has an 'any' type.\n\n    \u001b[7m33\u001b[0m   type: 'annual', status: 'draft', self_rating: null, manager_rating: null, final_rating: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                      ~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m33\u001b[0m:\u001b[93m77\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'final_rating' implicitly has an 'any' type.\n\n    \u001b[7m33\u001b[0m   type: 'annual', status: 'draft', self_rating: null, manager_rating: null, final_rating: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                                            ~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'self_comments' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'manager_comments' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m48\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'strengths' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                               ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m65\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'improvements' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                                ~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m35\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'submitted_at' implicitly has an 'any' type.\n\n    \u001b[7m35\u001b[0m   submitted_at: null, completed_at: null, created_at: new Date(), updated_at: new Date(),\n    \u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m35\u001b[0m:\u001b[93m23\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'completed_at' implicitly has an 'any' type.\n\n    \u001b[7m35\u001b[0m   submitted_at: null, completed_at: null, created_at: new Date(), updated_at: new Date(),\n    \u001b[7m  \u001b[0m \u001b[91m                      ~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m36\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m36\u001b[0m   scores: [],\n    \u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m113\u001b[0m:\u001b[93m75\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m113\u001b[0m       const evalInReview = { ...mockEvaluation, status: 'manager_review', scores: [] };\n    \u001b[7m   \u001b[0m \u001b[91m                                                                          ~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m127\u001b[0m:\u001b[93m71\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m127\u001b[0m       const evalInCalib = { ...mockEvaluation, status: 'calibration', scores: [] };\n    \u001b[7m   \u001b[0m \u001b[91m                                                                      ~~~~~~~~~~\u001b[0m\n\nPASS test/unit/talent.service.spec.ts (8.505 s)\nPASS test/unit/performance.service.spec.ts (8.47 s)\nPASS test/unit/scorecard.service.spec.ts (8.49 s)\nPASS test/unit/talent.controller.spec.ts (8.903 s)\nPASS test/unit/performance.controller.spec.ts (9.213 s)\n\nTest Suites: 4 failed, 5 passed, 9 total\nTests:       57 passed, 57 total\nSnapshots:   0 total\nTime:        10.121 s\nRan all test suites.",
    "cwd": "/Users/tachongrak/Projects/hr/src/services/performance-talent",
    "permission_mode": "bypassPermissions",
    "transcript_path": "/Users/tachongrak/.claude/projects/-Users-tachongrak-Projects-hr/251bfa9c-8432-48c6-8537-dc57c1481658.jsonl",
    "raw_input": {
      "session_id": "251bfa9c-8432-48c6-8537-dc57c1481658",
      "transcript_path": "/Users/tachongrak/.claude/projects/-Users-tachongrak-Projects-hr/251bfa9c-8432-48c6-8537-dc57c1481658.jsonl",
      "cwd": "/Users/tachongrak/Projects/hr/src/services/performance-talent",
      "permission_mode": "bypassPermissions",
      "hook_event_name": "PostToolUseFailure",
      "tool_name": "Bash",
      "tool_input": {
        "command": "npx jest --no-cache 2>&1",
        "timeout": 120000,
        "description": "Run all tests"
      },
      "tool_use_id": "toolu_01GtmjHVYWDhW4yuf6B7whv6",
      "error": "Exit code 1\nFAIL test/unit/idp.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/idp.service.spec.ts\u001b[0m:\u001b[93m29\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'approved_by' implicitly has an 'any' type.\n\n    \u001b[7m29\u001b[0m   mentor_id: 'MGR001', approved_by: null, approved_at: null,\n    \u001b[7m  \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/idp.service.spec.ts\u001b[0m:\u001b[93m29\u001b[0m:\u001b[93m43\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'approved_at' implicitly has an 'any' type.\n\n    \u001b[7m29\u001b[0m   mentor_id: 'MGR001', approved_by: null, approved_at: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                          ~~~~~~~~~~~~~~~~~\u001b[0m\n\nFAIL test/unit/succession.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/succession.service.spec.ts\u001b[0m:\u001b[93m32\u001b[0m:\u001b[93m51\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'successors' implicitly has an 'any[]' type.\n\n    \u001b[7m32\u001b[0m   created_at: new Date(), updated_at: new Date(), successors: [],\n    \u001b[7m  \u001b[0m \u001b[91m                                                  ~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/succession.service.spec.ts\u001b[0m:\u001b[93m37\u001b[0m:\u001b[93m33\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'development_gaps' implicitly has an 'any' type.\n\n    \u001b[7m37\u001b[0m   readiness: 'ready_1_2_years', development_gaps: null, development_actions: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/succession.service.spec.ts\u001b[0m:\u001b[93m37\u001b[0m:\u001b[93m57\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'development_actions' implicitly has an 'any' type.\n\n    \u001b[7m37\u001b[0m   readiness: 'ready_1_2_years', development_gaps: null, development_actions: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                        ~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\nFAIL test/unit/goal.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/goal.service.spec.ts\u001b[0m:\u001b[93m31\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'completed_at' implicitly has an 'any' type.\n\n    \u001b[7m31\u001b[0m   completed_at: null, period: '2024-H1', created_at: new Date(), updated_at: new Date(),\n    \u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~~~~~\u001b[0m\n\nFAIL test/unit/evaluation.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m33\u001b[0m:\u001b[93m36\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'self_rating' implicitly has an 'any' type.\n\n    \u001b[7m33\u001b[0m   type: 'annual', status: 'draft', self_rating: null, manager_rating: null, final_rating: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                   ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m33\u001b[0m:\u001b[93m55\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'manager_rating' implicitly has an 'any' type.\n\n    \u001b[7m33\u001b[0m   type: 'annual', status: 'draft', self_rating: null, manager_rating: null, final_rating: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                      ~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m33\u001b[0m:\u001b[93m77\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'final_rating' implicitly has an 'any' type.\n\n    \u001b[7m33\u001b[0m   type: 'annual', status: 'draft', self_rating: null, manager_rating: null, final_rating: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                                            ~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'self_comments' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'manager_comments' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m48\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'strengths' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                               ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m65\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'improvements' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                                ~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\n\n... [4080 characters truncated] ...\n\n0m\u001b[90m TS7018: \u001b[0mObject literal's property 'completed_at' implicitly has an 'any' type.\n\n    \u001b[7m31\u001b[0m   completed_at: null, period: '2024-H1', created_at: new Date(), updated_at: new Date(),\n    \u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~~~~~\u001b[0m\n\nFAIL test/unit/evaluation.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m33\u001b[0m:\u001b[93m36\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'self_rating' implicitly has an 'any' type.\n\n    \u001b[7m33\u001b[0m   type: 'annual', status: 'draft', self_rating: null, manager_rating: null, final_rating: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                   ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m33\u001b[0m:\u001b[93m55\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'manager_rating' implicitly has an 'any' type.\n\n    \u001b[7m33\u001b[0m   type: 'annual', status: 'draft', self_rating: null, manager_rating: null, final_rating: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                      ~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m33\u001b[0m:\u001b[93m77\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'final_rating' implicitly has an 'any' type.\n\n    \u001b[7m33\u001b[0m   type: 'annual', status: 'draft', self_rating: null, manager_rating: null, final_rating: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                                            ~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'self_comments' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'manager_comments' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m48\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'strengths' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                               ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m65\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'improvements' implicitly has an 'any' type.\n\n    \u001b[7m34\u001b[0m   self_comments: null, manager_comments: null, strengths: null, improvements: null,\n    \u001b[7m  \u001b[0m \u001b[91m                                                                ~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m35\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'submitted_at' implicitly has an 'any' type.\n\n    \u001b[7m35\u001b[0m   submitted_at: null, completed_at: null, created_at: new Date(), updated_at: new Date(),\n    \u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m35\u001b[0m:\u001b[93m23\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'completed_at' implicitly has an 'any' type.\n\n    \u001b[7m35\u001b[0m   submitted_at: null, completed_at: null, created_at: new Date(), updated_at: new Date(),\n    \u001b[7m  \u001b[0m \u001b[91m                      ~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m36\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m36\u001b[0m   scores: [],\n    \u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m113\u001b[0m:\u001b[93m75\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m113\u001b[0m       const evalInReview = { ...mockEvaluation, status: 'manager_review', scores: [] };\n    \u001b[7m   \u001b[0m \u001b[91m                                                                          ~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m127\u001b[0m:\u001b[93m71\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m127\u001b[0m       const evalInCalib = { ...mockEvaluation, status: 'calibration', scores: [] };\n    \u001b[7m   \u001b[0m \u001b[91m                                                                      ~~~~~~~~~~\u001b[0m\n\nPASS test/unit/talent.service.spec.ts (8.505 s)\nPASS test/unit/performance.service.spec.ts (8.47 s)\nPASS test/unit/scorecard.service.spec.ts (8.49 s)\nPASS test/unit/talent.controller.spec.ts (8.903 s)\nPASS test/unit/performance.controller.spec.ts (9.213 s)\n\nTest Suites: 4 failed, 5 passed, 9 total\nTests:       57 passed, 57 total\nSnapshots:   0 total\nTime:        10.121 s\nRan all test suites.",
      "is_interrupt": false,
      "logged_at": "2026-02-22T17:56:09.999096"
    }
  },
  {
    "timestamp": "2026-02-22T17:56:44.331779",
    "session_id": "251bfa9c-8432-48c6-8537-dc57c1481658",
    "hook_event_name": "PostToolUseFailure",
    "tool_name": "Bash",
    "tool_use_id": "toolu_01CYXTDwtQS3wLp8KxK8wNyb",
    "tool_input": {
      "command": "npx jest --no-cache 2>&1",
      "timeout": 120000,
      "description": "Run all tests again"
    },
    "error": "Exit code 1\nFAIL test/unit/evaluation.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m113\u001b[0m:\u001b[93m75\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m113\u001b[0m       const evalInReview = { ...mockEvaluation, status: 'manager_review', scores: [] };\n    \u001b[7m   \u001b[0m \u001b[91m                                                                          ~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m127\u001b[0m:\u001b[93m71\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m127\u001b[0m       const evalInCalib = { ...mockEvaluation, status: 'calibration', scores: [] };\n    \u001b[7m   \u001b[0m \u001b[91m                                                                      ~~~~~~~~~~\u001b[0m\n\nPASS test/unit/idp.service.spec.ts (10.528 s)\nPASS test/unit/succession.service.spec.ts (11.819 s)\nPASS test/unit/scorecard.service.spec.ts (12.325 s)\nPASS test/unit/goal.service.spec.ts (12.369 s)\nPASS test/unit/talent.service.spec.ts (12.506 s)\nPASS test/unit/performance.service.spec.ts (13.779 s)\nPASS test/unit/talent.controller.spec.ts (14.292 s)\nPASS test/unit/performance.controller.spec.ts (16.043 s)\nA worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks. Active timers can also cause this, ensure that .unref() was called on them.\n\nTest Suites: 1 failed, 8 passed, 9 total\nTests:       96 passed, 96 total\nSnapshots:   0 total\nTime:        17.338 s\nRan all test suites.\n\nFAIL test/unit/evaluation.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m113\u001b[0m:\u001b[93m75\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m113\u001b[0m       const evalInReview = { ...mockEvaluation, status: 'manager_review', scores: [] };\n    \u001b[7m   \u001b[0m \u001b[91m                                                                          ~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m127\u001b[0m:\u001b[93m71\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m127\u001b[0m       const evalInCalib = { ...mockEvaluation, status: 'calibration', scores: [] };\n    \u001b[7m   \u001b[0m \u001b[91m                                                                      ~~~~~~~~~~\u001b[0m\n\nPASS test/unit/idp.service.spec.ts (10.528 s)\nPASS test/unit/succession.service.spec.ts (11.819 s)\nPASS test/unit/scorecard.service.spec.ts (12.325 s)\nPASS test/unit/goal.service.spec.ts (12.369 s)\nPASS test/unit/talent.service.spec.ts (12.506 s)\nPASS test/unit/performance.service.spec.ts (13.779 s)\nPASS test/unit/talent.controller.spec.ts (14.292 s)\nPASS test/unit/performance.controller.spec.ts (16.043 s)\nA worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks. Active timers can also cause this, ensure that .unref() was called on them.\n\nTest Suites: 1 failed, 8 passed, 9 total\nTests:       96 passed, 96 total\nSnapshots:   0 total\nTime:        17.338 s\nRan all test suites.",
    "cwd": "/Users/tachongrak/Projects/hr/src/services/performance-talent",
    "permission_mode": "bypassPermissions",
    "transcript_path": "/Users/tachongrak/.claude/projects/-Users-tachongrak-Projects-hr/251bfa9c-8432-48c6-8537-dc57c1481658.jsonl",
    "raw_input": {
      "session_id": "251bfa9c-8432-48c6-8537-dc57c1481658",
      "transcript_path": "/Users/tachongrak/.claude/projects/-Users-tachongrak-Projects-hr/251bfa9c-8432-48c6-8537-dc57c1481658.jsonl",
      "cwd": "/Users/tachongrak/Projects/hr/src/services/performance-talent",
      "permission_mode": "bypassPermissions",
      "hook_event_name": "PostToolUseFailure",
      "tool_name": "Bash",
      "tool_input": {
        "command": "npx jest --no-cache 2>&1",
        "timeout": 120000,
        "description": "Run all tests again"
      },
      "tool_use_id": "toolu_01CYXTDwtQS3wLp8KxK8wNyb",
      "error": "Exit code 1\nFAIL test/unit/evaluation.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m113\u001b[0m:\u001b[93m75\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m113\u001b[0m       const evalInReview = { ...mockEvaluation, status: 'manager_review', scores: [] };\n    \u001b[7m   \u001b[0m \u001b[91m                                                                          ~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m127\u001b[0m:\u001b[93m71\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m127\u001b[0m       const evalInCalib = { ...mockEvaluation, status: 'calibration', scores: [] };\n    \u001b[7m   \u001b[0m \u001b[91m                                                                      ~~~~~~~~~~\u001b[0m\n\nPASS test/unit/idp.service.spec.ts (10.528 s)\nPASS test/unit/succession.service.spec.ts (11.819 s)\nPASS test/unit/scorecard.service.spec.ts (12.325 s)\nPASS test/unit/goal.service.spec.ts (12.369 s)\nPASS test/unit/talent.service.spec.ts (12.506 s)\nPASS test/unit/performance.service.spec.ts (13.779 s)\nPASS test/unit/talent.controller.spec.ts (14.292 s)\nPASS test/unit/performance.controller.spec.ts (16.043 s)\nA worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks. Active timers can also cause this, ensure that .unref() was called on them.\n\nTest Suites: 1 failed, 8 passed, 9 total\nTests:       96 passed, 96 total\nSnapshots:   0 total\nTime:        17.338 s\nRan all test suites.\n\nFAIL test/unit/evaluation.service.spec.ts\n  \u25cf Test suite failed to run\n\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m113\u001b[0m:\u001b[93m75\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m113\u001b[0m       const evalInReview = { ...mockEvaluation, status: 'manager_review', scores: [] };\n    \u001b[7m   \u001b[0m \u001b[91m                                                                          ~~~~~~~~~~\u001b[0m\n    \u001b[96mtest/unit/evaluation.service.spec.ts\u001b[0m:\u001b[93m127\u001b[0m:\u001b[93m71\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7018: \u001b[0mObject literal's property 'scores' implicitly has an 'any[]' type.\n\n    \u001b[7m127\u001b[0m       const evalInCalib = { ...mockEvaluation, status: 'calibration', scores: [] };\n    \u001b[7m   \u001b[0m \u001b[91m                                                                      ~~~~~~~~~~\u001b[0m\n\nPASS test/unit/idp.service.spec.ts (10.528 s)\nPASS test/unit/succession.service.spec.ts (11.819 s)\nPASS test/unit/scorecard.service.spec.ts (12.325 s)\nPASS test/unit/goal.service.spec.ts (12.369 s)\nPASS test/unit/talent.service.spec.ts (12.506 s)\nPASS test/unit/performance.service.spec.ts (13.779 s)\nPASS test/unit/talent.controller.spec.ts (14.292 s)\nPASS test/unit/performance.controller.spec.ts (16.043 s)\nA worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks. Active timers can also cause this, ensure that .unref() was called on them.\n\nTest Suites: 1 failed, 8 passed, 9 total\nTests:       96 passed, 96 total\nSnapshots:   0 total\nTime:        17.338 s\nRan all test suites.",
      "is_interrupt": false,
      "logged_at": "2026-02-22T17:56:44.331779"
    }
  }
]